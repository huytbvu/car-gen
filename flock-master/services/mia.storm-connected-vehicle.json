{
  "container": {
    "image": "docker://docker.cloud:5000/flock_workloads/storm_connected_vehicle",
    "options": ["-n=false", 
                "--privileged",
                "--env=DISCOVERY=etcd_host:vm1.mia.cloud,service_id:mia/storm-connected-vehicle",
                "--lxc-conf=lxc.network.type = veth",
                "--lxc-conf=lxc.network.link = br0",
                "--lxc-conf=lxc.network.name = eth0",
                "--lxc-conf=lxc.network.flags = up"]
  },
  "id": "mia/storm-connected-vehicle",
  "instances": "1",
  "globalConstraint": {"datacenterId": "mia"},
  "localConstraint": [["hostname", "UNIQUE"]],
  "slaDescription": {"policy": "switchproxy"},
  "serviceOptions": {"storm-master-service-id": "mia/storm-master",
                     "storm-mode": "cluster",
                     "storm-numWorkers": 4,
                     "storm-datasource-hostname": "vm1.mia.cloud",
                     "storm-datasource-port": 4222,
                     "storm-datasource-queue": "cars",
                     "storm-datasink-carEventsQueue": "carNotificationEvents",
                     "storm-datasink-roadEventsQueue": "roadNotificationEvents",
                     "storm-resultDatabase-service-id": "mia/mongodb",
                     "storm-resultDatabase-databaseName": "cluster",
                     "application-controller-datasink-hostname": "vm1.mia.cloud",
                     "application-controller-datasink-port": 4222,
                     "application-controller-datasink-username": "nats",
                     "application-controller-datasink-password": "T0pS3cr3t",
                     "application-controller-datasink-queue": "applicationSLAs"},
  "cpus": "0.1",
  "mem": "512",
  "cmd": "dhclient eth0; ifconfig eth0; service ssh start; configure-all.sh; register_service.py; start-application-controller.sh; while [ 1 ]; do sleep 5; done"
}
