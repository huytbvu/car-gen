{
  "container": {
    "image": "docker://docker.cloud:5000/flock_workloads/storm_worker",
    "options": ["-n=false", 
                "--privileged",
                "--env=DISCOVERY=etcd_host:vm1.mia.cloud,service_id:mia/storm-worker",
                "--lxc-conf=lxc.network.type = veth",
                "--lxc-conf=lxc.network.link = br0",
                "--lxc-conf=lxc.network.name = eth0",
                "--lxc-conf=lxc.network.flags = up"]
  },
  "id": "mia/storm-worker",
  "instances": "3",
  "globalConstraint": {"datacenterId": "mia"},
  "localConstraint": [["hostname", "UNIQUE"]],
  "slaDescription": {"policy": "switchproxy"},
  "serviceOptions": {"storm-master-service-id": "mia/storm-master"},
  "cpus": "3",
  "mem": "8192",
  "cmd": "dhclient eth0; ifconfig eth0; service ssh start; configure_storm.sh; start_storm_supervisor.sh; while [ 1 ]; do sleep 5; done"
}
